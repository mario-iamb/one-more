!function a(s,i,c){function u(t,e){if(!i[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=i[t]={exports:{}};s[t][0].call(r.exports,function(e){return u(s[t][1][e]||e)},r,r.exports,a,s,i,c)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var r=new XMLHttpRequest;r.open("GET","http://ip-api.com/json/",!0),r.onload=function(){var e=JSON.parse(this.response);if(200<=r.status&&r.status<400){var t=e.city,n=e.zip,o=e.country;document.querySelector(".geoloaction__msg-city").innerHTML=t,document.querySelector(".geoloaction__msg-postcode").innerHTML=n,document.querySelector(".geoloaction__msg-country").innerHTML=o}else console.log("Ups ... something wrong with the Geo API")},r.send()}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){document.querySelectorAll(".product__images-item").forEach(function(c){var e=window.getComputedStyle(c,!1),t=e.backgroundImage.slice(4,-1).replace(/['"]/g,""),n=new Image;n.onload=function(){var s=n.naturalWidth,e=n.naturalHeight,i=e/s,t=100*i+"%";c.style.paddingBottom=t,c.onmousemove=function(e){var t=c.clientWidth,n=e.pageX-this.offsetLeft,o=e.pageY-this.offsetTop,r=n/(t/100)+"%",a=o/(t*i/100)+"%";Object.assign(c.style,{backgroundPosition:r+" "+a,backgroundSize:s+"px"})},c.onmouseleave=function(e){Object.assign(c.style,{backgroundPosition:"center",backgroundSize:"cover"})}},n.src=t})}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){document.querySelectorAll(".product__quantity-holder i").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(".product__quantity-holder input").value,n=parseInt(t);e.target.classList.contains("less")?n-=1:e.target.classList.contains("more")&&(n+=1),n<1&&(n=1),document.querySelector(".product__quantity-holder input").value=n})})}},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=document.querySelector(".header__minicart"),t=document.querySelector(".button--add-to-cart"),n=document.querySelector(".mini-cart__close"),o=document.querySelector(".mini-cart"),a=function(e){if(sessionStorage.miniCartValue){var t=JSON.parse(sessionStorage.getItem("miniCartValue"));"add"==e?(t+=1,sessionStorage.setItem("miniCartValue",JSON.stringify(t))):"remove"==e&&(t-=1,sessionStorage.setItem("miniCartValue",JSON.stringify(t))),document.querySelector(".header__minicart-counter").innerHTML=t}else sessionStorage.setItem("miniCartValue",JSON.stringify(0)),document.querySelector(".header__minicart-counter").innerHTML="0"},s=function(){var e=document.querySelector(".mini-cart__message"),o=document.querySelector(".mini-cart__items-holder"),t=document.querySelector(".mini-cart__total"),n=document.querySelector(".mini-cart__total-value");if(sessionStorage.basket){var r=JSON.parse(sessionStorage.getItem("basket")),a=JSON.parse(sessionStorage.getItem("CartTotal"));o.innerHTML="",e.classList.remove("active"),r.forEach(function(e,t){var n="<tr class='prod__item'><td class='prod__name' width='50%'>"+e.name+"</td><td width='50%'><table width='100%' border='0'><tbody><tr><td class='prod__price'><span>&#36;</span>"+e.price+"</td></tr><tr><td class='prod__quantity'><span>Qty: </span>"+e.quantity+"</td></tr><tr><td class='prod__subtotal'><span>Subtotal: &#36;</span>"+e.subtotal+"</td></tr><tr><td class='prod__remove'><a href='#' class='pdelete' data-product='"+t+"'>Remove</a></td></tr></tbody></table></td></tr>";o.insertAdjacentHTML("afterbegin",n)}),t.classList.remove("inactive"),n.innerHTML=a.toFixed(2),"0"==Object.keys(r).length?(e.classList.add("active"),t.classList.add("inactive")):e.classList.remove("active")}else e.classList.add("active")},r=function(){var e,t={};if(t.name=document.querySelector(".product__title").innerHTML,t.price=(e=document.querySelector(".product__price--current").innerHTML,Number(e.replace(/[^0-9.-]+/g,""))),t.quantity=document.querySelector(".product__quantity-holder input").value,t.subtotal=t.price*t.quantity,sessionStorage.basket)n=JSON.parse(sessionStorage.getItem("basket"));else var n=[];n.push(t),sessionStorage.setItem("basket",JSON.stringify(n));var o=n.map(function(e){return e.subtotal}).reduce(function(e,t){return e+t});sessionStorage.setItem("CartTotal",JSON.stringify(o)),a("add")};t.addEventListener("click",function(e){e.preventDefault(),r(),s()}),e.addEventListener("click",function(e){e.preventDefault(),o.style.transform="translateX(0)"}),n.addEventListener("click",function(e){e.preventDefault(),o.style.transform="translateX(100%)"}),s(),a(),document.addEventListener("click",function(e){if(e.target&&"pdelete"==e.target.classList){e.preventDefault();var t=e.target.dataset.product,n=JSON.parse(sessionStorage.getItem("basket")),o=JSON.parse(sessionStorage.getItem("CartTotal")),r=n[t].subtotal;n.splice(t,1),o-=r,sessionStorage.setItem("CartTotal",JSON.stringify(o)),sessionStorage.setItem("basket",JSON.stringify(n)),a("remove"),s()}})}},{}],5:[function(e,t,n){"use strict";var o=i(e("./components/yourBasket")),r=i(e("./components/quantityCounter")),a=i(e("./components/geolocation")),s=i(e("./components/imageZoom"));function i(e){return e&&e.__esModule?e:{default:e}}var c=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.yourBasket=new o.default,this.quantityCounter=new r.default,this.geolocation=new a.default,this.imageZoom=new s.default};document.addEventListener("DOMContentLoaded",function(){return new c})},{"./components/geolocation":1,"./components/imageZoom":2,"./components/quantityCounter":3,"./components/yourBasket":4}]},{},[5]);